apply plugin: 'java'
apply plugin: 'io.spring.dependency-management'

dependencyManagement {
  imports { mavenBom("org.springframework.boot:spring-boot-dependencies:${springBootVersion}") }
}

dependencies {
  compile project(':backend:core')
  compile project(':backend:adapters')

  compile 'org.springframework.boot:spring-boot-starter-data-jpa'
  compile 'org.springframework.boot:spring-boot-starter-jdbc'
  compile 'org.hibernate:hibernate-validator:5.3.5.Final'
  compile 'org.postgresql:postgresql'
  compile 'tec.uom:uom-se:1.0.8'
  compile 'com.fasterxml.jackson.core:jackson-databind:2.8.9'
  compile 'com.querydsl:querydsl-root:4.1.4'
  compile 'com.querydsl:querydsl-apt:4.1.4:jpa'
  compile 'com.querydsl:querydsl-jpa:4.1.4'
  compile 'org.modelmapper:modelmapper:1.1.0'

  compileOnly 'org.projectlombok:lombok:1.16.18'

  testCompile 'junit:junit:4.12'
  testCompile 'org.assertj:assertj-core:3.8.0'
}

compileJava {
  options.compilerArgs << "-s"
  options.compilerArgs << "$buildDir/generated"
  doFirst {
    file(new File(buildDir, "/generated")).mkdirs()
  }
}
